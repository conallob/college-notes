% $Id: 20041102.tex 353 2004-11-12 00:21:25Z conall $

\documentclass[a4paper,12pt]{article}
\usepackage{amssymb}

\setlength{\parindent}{0mm}
\setlength{\parskip}{7.5mm}

\begin{document}

\title{Course 3BA4: Computer Architecture II \\ Lecture Notes \\ $1^{st}$ November 2004}

\maketitle

\section*{Pipeline Forwarding}

ALU results from \emph{previous} two instructions can be forwarded to
the ALU input from the $\verb!ALU!_{OUT 0}$ of the ALU pipeline. register before
the results are written back to the system file.

Tag $\verb!ALU!_{OUT 0}$ and $ALU_{OUT 1}$ with the destination register, $EX$
stage checks for source register in the order $\verb!ALU!_{OUT 0}$, $ALU_{OUT 1}$
and then $A/B$

\section*{Two Phase Clocking}

Pipeline Forwarding Example: Reads \verb!r1! from $\verb!ALU!_{OUT}$

\begin{eqnarray*}
\verb!r1!	&	\leftarrow	&	\verb!r2 + r3!	\\
\verb!r4!	&	\leftarrow	&	\verb!r1 - r5!	\\
\verb!r6!	&	\leftarrow	&	\verb!r1 slr r7!\\
\verb!r8!	&	\leftarrow	&	\verb!r1! \otimes \verb!r3!	\\
\verb!r8!	&	\leftarrow	&	\verb!r1 + r9!	\\
\end{eqnarray*}


\begin{tabular}{|c|c|c|c|c|c|c|c|c|}
$IF$	&	$ID$	&	$EX$	&	$MA$		&	$WB$		&			&			&			&			\\
\hline
		&	$IF$	&	$ID$	&	$EX^{1}$	&	$MA$		&	$WB$	&			&			&			\\
		&			&	$IF$	&	$ID$		&	$EX^{2}$	&	$MA$	&	$WB$	&			&			\\
		&			&			&	$IF$		&	$IR^{3}$	&	$EX$	&	$MA$	&	$WB$	&			\\
		&			&			&				&	$IF$		&	$ID$	&	$EX$	&	$MA$	&	$WB$	\\
\end{tabular}

$^{1}$: Reads $\verb!r1!$ from $\verb!ALU!$ \\
$^{2}$: Reads $\verb!r1!$ from $\verb!ALU!_{OUT 1}$ \\
$^{3}$: $ID$ stage reads correct value of \verb!r1! due to two-phase clocking/access 
to the register file

\end{document}
