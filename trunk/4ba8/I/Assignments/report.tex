% $Id$

\documentclass[a4paper,10pt]{article}

\setlength{\parindent}{0mm}
\setlength{\parskip}{7.5mm}

\usepackage{amssymb}
\usepackage[usenames]{color}
\usepackage[arc,poly,all]{xy}
\usepackage{ulem}
\usepackage{listings}
\usepackage{verbatim}
\usepackage{fancyvrb}
\usepackage[left=2cm,right=2cm,top=4cm,bottom=4cm]{geometry}
\usepackage{graphicx}
\usepackage{url}


\newcommand{\primarykey}[1]{\mbox{{\color{NavyBlue}{$#1$}}}}
\newcommand{\foreignkey}[1]{{\mbox{\color{Emerald}{$#1$}}}}


\begin{document}

\title{4BA8 \\ Assignment}

\author{Conall O'Brien \\ 01734351 \\ conallob@maths.tcd.ie}

\maketitle

\section{Introduction}

Given the broad guidelines relating to the implementation of this 
assignment,  programming language and Web Services, I have decided to 
use three technologies, Perl, MySQL and XML-RPC.


I have chosen to use Perl for multiple reasons, primarily it's
popular use developing server-side applications and dynamic web content.
In addition, the extensive library of modules available to Perl ensures
a complete implementation of numerous web service technologies.


I have chosen to use XML-RPC for the exchanging of RPC messages due to
it's lightweight and uncomplicated definition. It is my belief that the 
use of XML-RPC over compeditors such as SOAP is appropariate for an
application of this size and complexity.


For backend database storage, I have opted to use MySQL, the open source
SQL complient database over other Web Services backend solutions, such 
as UDDI standard, who's definition is incomplete.


In addition, I have chosen to run my Assignment on web hosting servers
running the Apache 2.0 web server running on the Debian GNU/Linux
platform. To satisfy the assignment requirement of "system must be 
deployable across the Internet. It should, for example, be possible for 
services to interoperate in an environment controlled by firewalls and 
other Internet infrastructure", I have used MacOS X, FreeBSD and Ubuntu 
GNU/Linux, systems connected to the TCD network, located behind the
main TCD firewall configuration (consisting of a Cisco PIX 515 and a 
Cisco PIX 525).

\section{Architectural Design}

My application design is simple, based upon the client - server
architecture. A Perl script on the primary server acts as a translator
between XML-RPC calls to the MySQL backend and the client script. An 
additional feature of the server script not implemented by the 
assignment of the deadline allows two server scripts to communicate
between each other, allowing for backend replication between multiple,
resielient hosts using XML-RPC.


A second Perl script, the client script is a Command Line Interface 
(CLI) to the server. It allows a user to do multiple actions, such as
tourism service searchs (queries on the database), comparison of tourism 
services (comparison of query results) and creation of new service
instances (insert queries on the backend).

\section{Server API}

\input api.tex

\section{SQL Database Design}

\begin{tabular}{c}
Legend: \\
\primarykey{Primary Key} \\ 
\\
\foreignkey{Foreign Key} \\ 
\end{tabular}

\begin{figure}[h]

\xy<1cm,0cm>:
(15,2) *=(3,1)!UC\txt{\primarykey{TypeID}} *\frm{-} ,
(15,0) *=(3,1)!UC\txt{TypeName} *\frm{-} ,
(15,0) ; (15,1) **\dir{-}  *\dir{>} ,
\endxy

\caption{Table servicetype}

\end{figure}

\begin{figure}[h]

\xy<1cm,0cm>:
(15,2) *=(3,1)!UC\txt{\primarykey{ServiceID}} *\frm{-} ,
(5,2) *=(3,1)!UC\txt{Opening} *\frm{-} ,
(20,2) *=(3,1)!UC\txt{Closing} *\frm{-} ,
(15,0) *=(3,1)!UC\txt{ServiceName} *\frm{-} ,
(15,4) *=(3,1)!UC\txt{\foreignkey{ServiceType}} *\frm{-} ,
(15,0) ; (15,1) **\dir{-}  *\dir{>} ,
(15,3) ; (15,2) **\dir{-}  *\dir{>} ,
(6.5,1) ; (13.5,1) **\dir{-}  *\dir{>} ,
(18.5,1) ; (16.5,1) **\dir{-}  *\dir{>} ,
\endxy

\caption{Table service}

\end{figure}
\section{Working Prototype}

A working demonstration of my server and client are available online.


My server configuration is setup on a server situated in Tampa, Florida.
The URL of the CGI script is
\url{http://master-4ba8.conall.ie/cgi-bin/xmlrpc.cgi}


My client script is hosted on a server situated in Dublin, Ireland. The
URL for the client PHP script is
\url{http://client-4ba8.conall.ie}


Both servers are powered by Debian GNU/Linux, secured by restrictive, 
stateful iptables firewall, making only the necessary ports available.

\section{Technical References}

\begin{tabular}{lll}
Title	&	Author(s)	&	Publisher	\\
Edition	&	ISBN	&	Publish Date 	\\
			&			&						\\
			&			&						\\
Programming Web Services with Perl	&	Pavel Kulchenko,  Randy J. Ray	&
O'Reilly	\\
1st&	0-596-00206-8 & December 2002	\\
			&			&						\\
Programming Web Services with XML-RPC & Edd Dumbill, Joe Johnston, Simon
St. Laurent &	O'Reilly	\\
3rd & 0-596-00119-3	&	June 2001	\\
			&			&						\\
Real World Web Services	&	Will Iverson	&	O'Reilly	\\
1st & 0-596-00642-X	&	October 2004	\\
			&			&						\\
Learning Perl	&	Randal L. Schwartz, Tom Phoenix	&	O'Reilly	\\
3rd  		&	0-596-00132-0	&	July 2001	\\
			&			&						\\
Programming Perl	&	Larry Wall, Tom Christiansen, Jon Orwant	&
O'Reilly	\\
3rd		&	0-596-00027-8	&	July 2000	\\
\end{tabular}

\end{document}
