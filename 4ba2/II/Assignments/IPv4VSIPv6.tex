% $Id: /college/trunk/4ict9/Assignments/MobileMap/report.tex 888 2005-12-08T16:27:16.887239Z conall  $

\documentclass[a4paper,12pt]{article}

\usepackage{url}

\setlength{\parindent}{0mm}
\setlength{\parskip}{7.5mm}

\begin{document}

\title{4BA2 \\ Analysis of IP suitability for various application domains}

\author{Brian Brazil (02017610) brazilb@tcd.ie \\
David Collins (02704030) collinda@tcd.ie \\ 
Conall O'Brien (01734351) conallob@maths.tcd.ie}

\maketitle

\section{Introduction}

In order to compare and contrast the suitability of IPv4 against IPv6
for specific applications, we must first look at the reasons why IPv6
was created in the first place.

\subsection{The Limitations of IPv4}

Over the last 25 years, since its standardisation in RFC 791, published
in 1981, IPv4 has proven to be very popular. Despite its popularity, it 
has some limitations, which have arisen over the years as new uses for 
IP connectivity are invented. Some even believe one of the key reasons
for its popularity, Network Address Translation (NAT), is also a 
limitation, and in certain cases, it is. Other limitations
affecting IPv4 include address allocation, security concerns, growth of 
routing tables and quality of service (QoS).


NAT is a method by which a network with private IP space, as defined in
RFC 1918, is masked behind a single or a few public, globally unique IP
address or addresses. NAT works by mapping certain TCP/IP ports between
addresses in the private address network and the public IP address(es).
While many find this useful, it does come at a cost, which is becoming
more and more expensive. Certain applications used in modern times to
not perform as expected when their IP datagrams are rewritten by a NAT
router. Additionally, certain applications, which shall be discussed
later, require a significant amount of TCP/IP ports, which are not
available in a NAT environment.


Initially, IPv4 address allocation was done in 3 categories, Class A, B
and C. Hindsight showed that this method was overly gratuitous and
wasted IPv4 addresses. As a result, Classless Inter Domain Routing
(CIDR) addressing was created to slow down, but not stop IPv4 addresses
being wasted. CIDR also managed to condense routing table information,
formally known as routing prefix aggregation, which has slowed down 
another problem afflicting IPv4, where routing tables on core
routers were growing out of control, with the addition of routes to
various class A, B and C address allocations.


Finally, in recent years, IPv4 has had many security concerns concerning
address spoofing, many of which are connected to security issues with
the Address Resolution Protocol (ARP), a protocol it uses to communicate
with Layer 2 protocols. ARP, by it's nature is an unauthenticated, 
broadcast protocol which is susceptible to attacks and "cache poisoning".
Finally, modern applications which require realtime QoS have also 
suffered from a certain inflexibility of IPv4 in adapting to suit their 
needs.

\subsection{Do We Need a Replacement IP Protocol}

Due to the limitations of IPv4 and the various stop-gap solutions which
have been added over the years, the Internet Engineering Task Force
(IETF) decided to design a new, much more modular and flexible IP
protocol, with improvements over the design of IPv4, based upon the
enhancements added over the years and flaws causing limitations. This
protocol is IPv6.

\section{Technologies}

\subsection{Routing}

In an IPv4 environment there are a number of protocols that may be in use. These
include Routing Information Protocol (RIP), Open Shortest Path First (OSPF) and
Border Gateway Protocol (BGP). Of these RIP and OSPF are Interior Gateway
Protocols (IGP), that is they are intended for use within an organisation. In
contrast BGP is intended as an Exterior Gateway Protocol (EGP), it is used to
maintain the global routing table that controls forwarding of all packets
across the Internet.

IPv6 implementations of all three protocols mentioned above are available, and
are by and large the same as their IPv4 versions. The main difference that IPv6
will bring to routing is the effects of the larger address spaces and the
manner in which it is to be assigned and managed. 

In addition to concern for the running out of IPv4 addresses there are also
problems arising from the increasing size of the global routing tables. As the
tables get larger better routers with more memory and processor power will be
required. Currently an IPv4 address gives no information as to where it should
be routed. The intention with IPv6 is that carriers will assign subnets from
their allocations to their customers. For example a large backbone carrier
might be assigned a /32, and would then assign /56 sized chunks of that to its
customers. The global routing tables would then only require one entry for the
/32, rather than entries for each of the potential sixteen million /56 subnets.
This is known as route aggregation.

\subsection{Voice over IP (VoIP)}

There are a large amount of Voice over IP (VoIP) protocols around. They
include popular, widely deployed (in enterprises) standards such as 
H.323, Session Initiation Protocol (SIP) and Cisco SCCP (known as
Skinny). There are also newer protocols, such as the proprietary one used
by Skype, and the open source Inter Asterisk Exchange (IAX) protocol,
designed for call trunking and to address limitations NAT causes H.323
and SIP.


VoIP protocols are one of the application categories most affected by
the limitations of IPv4. The primary issue is the widespread deployment
of NAT. Since a limited subset of TCP and UDP ports are mapped to each
privately addresses host, VoIP protocols which rely upon multiple UDP
based connections between nodes are adversely affected by NAT.
Additionally NAT IP header rewriting causes additional delays, which 
multimedia protocols (and their users) are particularly sensitive 
towards.


In addition, VoIP and other multimedia protocols are held to a higher
standard regarding delays, such as network congestion, network jitter 
and other interruptions. IP datagrams are designed to allow delivery 
in a non-sequential order, before the destination node reassembles them
sequentially. This behaviour causes noticeable delay and distortions in 
multimedia applications. Attempts to address this issue are primarily
done using QoS, which is not widely supported over IPv4 networks.


For these reasons, VoIP protocols (and their multimedia cousins) are
better suited over IPv6, as they raise many of the limitations
encountered with IPv4. 

\subsection{Remote Computing}

Remote computing is an important technology for allowing users to access
and operate systems and computers that they are not physically close to. 
By using network and internet connections, users can remotely access 
their computers allowing greater convenience, and often practicality, in
accessing systems which it would be inconvenient or impossible to get to  
otherwise. Telnet was one of the earliest protocols used for remote 
computing, allowing general byte orientated communications that was 
often used for simple command line login sessions. Other similar 
protocols would come about but one in particular, SSH, became  very 
popular in the late 1990s due to being far very secure and powerful. 
It also allowed other protocols such as SCP and FTP to be tunneled
through it. Other remote computing protocols include VNC and RDP (which
supports Microsoft's Terminal Services) which allow full screen
graphical interaction with the remote computer allowing negotiation of 
GUIs. There is also X11, a Windowing system that is designed to allow 
the user interface to run on a different machine to the actual programs. 


In some ways, the benefits of IPv6 to remote computing programs is
similar to its benefits to VOIP. In both cases there are 
instances of one computer connecting to another and communicating with it. 
Hence, the ability of IPv6 to give each computer an individual IP address 
makes it a lot easier for computers to connect and communicate with each 
other as there is no need for a NAT which would hinder communication.
Depending on the protocol used, remote computing may also require good 
QoS which Ipv6 also provides.


Given that the information transported in a remote login session is
sensitive (given that it tells and determines everything you are doing)   
security is an important feature. IPv6 ensures mandatory IPsec support, a 
standard for encryption and authentication of IP packets. While some 
some protocols such as SSH already have security features, IPsec is   
capable of quickly adding security to any remote login protocol, 
including telnet, given that it is built into the layers of the IPv6 
protocol. IPsec can help to protect against such threats as packet 
sniffing or fake packets, which could either compromise information,
cause disruption or cause the host to perform unwarranted operation the
during a remote session.

\section{Network Configuration and Administration}

On a network with any more than a handful of active nodes, it is desirable to
do as little manual configuration as possible for each node. Furthermore,
should your network configuration change at some point, for instance moving a
system to another network, it is desirable that the effort required be
minimised. It is for these reasons that automatic configuration is useful.

One manner of providing automatic configuration is that of DHCP, the Dynamic
Host Configuration Protocol as defined in RFC2131 for IPv4. The method of
operation is usually that a new node on the network will broadcast a message to
all nodes, looking for DHCP servers. DHCP servers then respond via unicast with
offers of addresses, and the client node once again broadcasts accepting one of
the offers, the final action by the server is to send a unicast message to the
client node, allowing it to take the address. The client sends out an ARP
request, to ensure that the address really is free, and if this is so starts
using its new address.

Note that this requires a server to be setup on the network. It also requires,
in addition to unicast packets, three broadcasts, each of which must be
processed by every system in the same broadcast domain. In practise the
broadcast domain would be the entire subnet. Accordingly if the network size
doubles, the processing required will quadruple.

Contrast that with the stateless autoconfiguration provided by RFC2463 for
IPv6 where no server is required to generate link-local addresses. This address
is generated from the Media Access Control (MAC) address of the Network
Interface Card (NIC), which are in theory unique. To verify this an algorithm called
Duplicate Address Detection is used, which involves sending a packet to the
candidate address and waiting for a reply. Unlike similar to DHCP this is not a
broadcast packet.

To provide routing beyond the local link, a global address is required. The
manner in which this works is that routers send out Routing Advertisements at
regular intervals, this provides a network prefix which is combined with the
unique address generated above. It also provides routing information.

Comparing at the IPv4 and IPv6 autoconfiguration methods one notes that it is
not possible to autoconfigure an IPv4 without setting up a separate server for
DHCP. With IPv6 basic autoconfiuration is builtin and requires no special
server. For the next level of configuration routers have to be configured,
however this isn't as much of a burden as for a network with more than one
subnet as the routers would have to be configured anyway.

A further advantage of IPv6 autoconfiguration, as with IPv6 in general, is that
all implementations are required to support encryption. This gives
administrators the ability to remove one of the problems with DHCP - namely
that there is no way to distinguish a valid server from a rouge server.

\section{Conclusion}


\section{References}

Title: RFC 791 - Internet Protocol \\
Author(s): Jon Postel \\
Publisher: IETF
Published Date: September 1981 \\
URL: \url{http://www.ietf.org/rfc/rfc791.txt}	 

Title: RFC 1918 - Address Allocation for Private Internets \\
Author(s): Y. Rekhter, B. Moskowitz, D. Karrenberg, G. J. de Groot, \
\indent E. Lear \\
Publisher: IETF \\
Published Date: February 1996  \\
URL: \url{http://www.ietf.org/rfc/rfc791.txt}	 

Title: RFC2131 - Dynamic Host Configuration Protocol \\
Author(s): R. Droms \\
Publisher: IETF \\
Published Date: March 1997 \\
URL: \url{http://www.ietf.org/rfc/rfc2131.txt}	 

Title: RFC2462 - IPv6 Stateless Autoconfiguration
Author(): S. Thomson, T. Narten
Publisher: IETF \\
Published Date: December 1998
URL: \url{http://www.ietf.org/rfc/rfc2462.txt}	 

Title: RFC 3261 - SIP: Session Initiation Protocol \\
Author(s): J. Rosenberg, H. Schulzrinne, G. Camarillo, A. Johnston, \\
\indent J. Peterson, R. Sparks, M. Handley, E. Schooler \\
Publisher: IETF \\
Published Date: June 2002  \\
URL: \url{http://www.ietf.org/rfc/rfc3261.txt}	 

Title: IPv6 Network Administration \\
Author(s): Niall Richard Murphy, David Malone \\
Publisher: O'Reilly \\
Published Date: March 2005  \\
ISBN: 0-596-00934-8	 

\end{document}
